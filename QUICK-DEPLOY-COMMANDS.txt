FleetSync Dashboard - Quick Deploy Commands
==========================================

VPS Details:
IP: 45.80.181.18
User: root
Password: aDi2kEjc.MLRR7D

1. Upload file (run from Windows):
scp fleetsync-deploy.zip root@45.80.181.18:/tmp/

2. SSH into VPS:
ssh root@45.80.181.18

3. Install dependencies:
apt update && apt upgrade -y
apt install unzip nginx -y
curl -fsSL https://deb.nodesource.com/setup_18.x | bash -
apt install nodejs -y
npm install -g pm2

4. Deploy application:
cd /tmp
mkdir -p /var/www/fleetsync
unzip fleetsync-deploy.zip -d /var/www/fleetsync
cd /var/www/fleetsync
chown -R root:root /var/www/fleetsync
chmod -R 755 /var/www/fleetsync
npm install --production --omit=dev

5. Start with PM2:
pm2 stop fleetsync || true
pm2 delete fleetsync || true
pm2 start npm --name "fleetsync" -- start
pm2 save
pm2 startup

6. Configure Nginx:
cat > /etc/nginx/sites-available/fleetsync << 'EOF'
server {
    listen 80;
    server_name 45.80.181.18;
    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }
}
EOF

ln -sf /etc/nginx/sites-available/fleetsync /etc/nginx/sites-enabled/
rm -f /etc/nginx/sites-enabled/default
nginx -t
systemctl restart nginx
systemctl enable nginx

7. Configure firewall:
ufw allow 22/tcp
ufw allow 80/tcp
ufw allow 443/tcp
ufw --force enable

8. Verify deployment:
pm2 status
pm2 logs fleetsync
systemctl status nginx
curl http://localhost:3000

Your app will be available at: http://45.80.181.18 